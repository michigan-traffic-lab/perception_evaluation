# Tools to convert and operate data
All the tools are in the `tools` folder. Please note that this is a README only to show most common use case, the tool might have more optional arguments to customize based on your need, use `--help` to check.
## Converter
### vehgps2gt.py
This tool helps to convert groundtruth raw gps data to the required data format. It takes the folder path which contains all the trials as the input. Each trial should be a folder that contain either one or two files, for single vehicle trial, it only need one file, for double-vehicle trial, you put both files there.

This tool will find the veh1 and veh2 gps file by prefix, you can specify their prefix with argument `--veh1-file-prefix` and `--veh2-file-prefix`. A simple example to use this tool is:
```bash
python vehgps2gtpy -i your/gps/data/folder
```

### pedgps2gt.py
The same as `vehgps2gt.py` except it converts pedestrian GPS. Example:
```bash
python pedgps2gt.py -i your/ped-gps/data/folder
```

### derq2standard.py
This tool takes one JSON file (the raw derq file) and convert it to the required data format.

```bash
python derq2standard.py -i your-derq-file.json
```

Notice that to use this file, you will need SDSM decoder.

## Editor
### cut_traj.py
This is a trajectory cutter that can cut the trajectory in your data file. The data file need to be in the standard required format. To use it, you just need to specify ID and the timestamp (Second in Epoch time) you want to cut it. It supports to cut many trajectories at once, the trajectory specified will be cut at the given timestamp, and the id before-after will be different:
```bash
python cut_traj -i your-file -c id1 id2 id3 -t timestamp1 timestamp2 timestamp3
```

### vehgps2interval.py
This will take the raw GPS data and find the time interval of each trial. This is generate a csv file that contains all intervals. It searches files by prefix, the same as `vehgps2gt.py`:
```bash
python vehgps2interval.py -i your_gps_folder
```

### truncate.py
This will truncate a merged file (standard format) into each trials. It uses the timestamp file generated by `vehgps2interval.py`:
```bash
python truncate.py -c your-timestamp-file -i your-merged-data
```
